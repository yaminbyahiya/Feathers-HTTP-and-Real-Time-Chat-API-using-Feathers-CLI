"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.renderTemplate = void 0;
const core_1 = require("../core");
const helpers_1 = require("./helpers");
/**
 * Renders a template to a file.
 *
 * @param template The template to render
 * @param target The target file handle, usually provided by `to()`
 * @returns The generator context
 */
const renderTemplate = (template, target, options = {}) => async (ctx) => {
    const fileName = await (0, core_1.getCallable)(target, ctx);
    const content = await (0, core_1.getCallable)(template, ctx);
    const result = await (0, helpers_1.promptWriteFile)(fileName, content, ctx, options);
    return (0, helpers_1.addTrace)(result, 'renderTemplate', { fileName, content });
};
exports.renderTemplate = renderTemplate;
